<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="doc2go">
    <link href="_/css/main.css" rel="stylesheet" />
    <link rel="apple-touch-icon" sizes="180x180" href="_/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="_/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="_/icons/favicon-16x16.png">
    <link rel="shortcut icon" href="_/icons/favicon.ico">
    <title>sofia</title>
</head>
  <body>
    <nav>
        154.pages.dev/sofia<span class="navbar-right">
          v1.3.0 | <a href="">Root</a> | <a href="#pkg-index">Index</a></span>
      </nav>
    <main><h2 id="pkg-overview">package sofia</h2>
<pre class="chroma"><span class="kn">import</span> <span class="s">&#34;154.pages.dev/sofia&#34;</span></pre>
<h3 id="pkg-index">Index</h3>
<ul>
  <li>
      <a href="#AudioSampleEntry">type AudioSampleEntry</a>
      </li>
  <li>
      <a href="#Box">type Box</a>
      </li>
  <li>
      <a href="#BoxHeader">type BoxHeader</a>
      </li>
  <li>
      <a href="#EncryptionSample">type EncryptionSample</a>
      <ul>
          <li><a href="#EncryptionSample.DecryptCenc">func (e EncryptionSample) DecryptCenc(sample, key []byte) error</a></li>
          </ul>
      </li>
  <li>
      <a href="#File">type File</a>
      <ul>
          <li><a href="#File.Read">func (f *File) Read(r io.Reader) error</a></li>
          <li><a href="#File.Write">func (f File) Write(w io.Writer) error</a></li>
          </ul>
      </li>
  <li>
      <a href="#FullBoxHeader">type FullBoxHeader</a>
      </li>
  <li>
      <a href="#Media">type Media</a>
      </li>
  <li>
      <a href="#MediaData">type MediaData</a>
      <ul>
          <li><a href="#MediaData.Data">func (m MediaData) Data(run TrackRun) [][]byte</a></li>
          </ul>
      </li>
  <li>
      <a href="#MediaInformation">type MediaInformation</a>
      </li>
  <li>
      <a href="#Movie">type Movie</a>
      <ul>
          <li><a href="#Movie.Widevine">func (m Movie) Widevine() ([]uint8, bool)</a></li>
          </ul>
      </li>
  <li>
      <a href="#MovieFragment">type MovieFragment</a>
      </li>
  <li>
      <a href="#OriginalFormat">type OriginalFormat</a>
      </li>
  <li>
      <a href="#ProtectionSchemeInfo">type ProtectionSchemeInfo</a>
      </li>
  <li>
      <a href="#ProtectionSystemSpecificHeader">type ProtectionSystemSpecificHeader</a>
      <ul>
          <li><a href="#ProtectionSystemSpecificHeader.String">func (p ProtectionSystemSpecificHeader) String() string</a></li>
          </ul>
      </li>
  <li>
      <a href="#Range">type Range</a>
      <ul>
          <li><a href="#Range.String">func (r Range) String() string</a></li>
          </ul>
      </li>
  <li>
      <a href="#Reference">type Reference</a>
      </li>
  <li>
      <a href="#RunSample">type RunSample</a>
      </li>
  <li>
      <a href="#SampleDescription">type SampleDescription</a>
      </li>
  <li>
      <a href="#SampleEncryption">type SampleEncryption</a>
      </li>
  <li>
      <a href="#SampleEntry">type SampleEntry</a>
      </li>
  <li>
      <a href="#SampleTable">type SampleTable</a>
      </li>
  <li>
      <a href="#SchemeInformation">type SchemeInformation</a>
      </li>
  <li>
      <a href="#SegmentIndex">type SegmentIndex</a>
      <ul>
          <li><a href="#SegmentIndex.Append">func (s *SegmentIndex) Append(size uint32)</a></li>
          <li><a href="#SegmentIndex.New">func (s *SegmentIndex) New()</a></li>
          <li><a href="#SegmentIndex.Ranges">func (s SegmentIndex) Ranges(start uint64) []Range</a></li>
          </ul>
      </li>
  <li>
      <a href="#Subsample">type Subsample</a>
      </li>
  <li>
      <a href="#Track">type Track</a>
      </li>
  <li>
      <a href="#TrackEncryption">type TrackEncryption</a>
      </li>
  <li>
      <a href="#TrackFragment">type TrackFragment</a>
      </li>
  <li>
      <a href="#TrackRun">type TrackRun</a>
      </li>
  <li>
      <a href="#Type">type Type</a>
      <ul>
          <li><a href="#Type.String">func (t Type) String() string</a></li>
          </ul>
      </li>
  <li>
      <a href="#UUID">type UUID</a>
      <ul>
          <li><a href="#UUID.String">func (u UUID) String() string</a></li>
          </ul>
      </li>
  <li>
      <a href="#VisualSampleEntry">type VisualSampleEntry</a>
      </li>
  </ul><h3 id="pkg-types">Types</h3>
  <h3 id="AudioSampleEntry">type AudioSampleEntry</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">AudioSampleEntry</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="AudioSampleEntry.SampleEntry"><span class="nx">SampleEntry</span></span> <a href="#SampleEntry"><span class="nx">SampleEntry</span></a>
	<span id="AudioSampleEntry.Extends"><span class="nx">Extends</span></span>     <span class="kd">struct</span> <span class="p">{</span>
		<span id="AudioSampleEntry.ChannelCount"><span class="nx">ChannelCount</span></span> <a href="https://pkg.go.dev/builtin#uint16"><span class="kt">uint16</span></a>
		<span id="AudioSampleEntry.SampleSize"><span class="nx">SampleSize</span></span>   <a href="https://pkg.go.dev/builtin#uint16"><span class="kt">uint16</span></a>
		<span id="AudioSampleEntry.PreDefined"><span class="nx">PreDefined</span></span>   <a href="https://pkg.go.dev/builtin#uint16"><span class="kt">uint16</span></a>

		<span id="AudioSampleEntry.SampleRate"><span class="nx">SampleRate</span></span> <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a>
		<span class="c1">// contains filtered or unexported fields
</span><span class="c1"></span>	<span class="p">}</span>
	<span id="AudioSampleEntry.Boxes"><span class="nx">Boxes</span></span>            <span class="p">[]</span><span class="o">*</span><a href="#Box"><span class="nx">Box</span></a>
	<span id="AudioSampleEntry.ProtectionScheme"><span class="nx">ProtectionScheme</span></span> <a href="#ProtectionSchemeInfo"><span class="nx">ProtectionSchemeInfo</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>class AudioSampleEntry(codingname) extends SampleEntry(codingname) {
   const unsigned int(32)[2] reserved = 0;
   unsigned int(16) channelcount;
   template unsigned int(16) samplesize = 16;
   unsigned int(16) pre_defined = 0;
   const unsigned int(16) reserved = 0 ;
   template unsigned int(32) samplerate = { default samplerate of media}&lt;&lt;16;
}
</pre>
<h3 id="Box">type Box</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">Box</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="Box.BoxHeader"><span class="nx">BoxHeader</span></span> <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="Box.Payload"><span class="nx">Payload</span></span>   <span class="p">[]</span><a href="https://pkg.go.dev/builtin#byte"><span class="kt">byte</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class Box (
   unsigned int(32) boxtype,
   optional unsigned int(8)[16] extended_type
) {
   BoxHeader(boxtype, extended_type);
   // the remaining bytes are the BoxPayload
}
</pre>
<h3 id="BoxHeader">type BoxHeader</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">BoxHeader</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="BoxHeader.Size"><span class="nx">Size</span></span>     <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a>
	<span id="BoxHeader.Type"><span class="nx">Type</span></span>     <a href="#Type"><span class="nx">Type</span></a>
	<span id="BoxHeader.UserType"><span class="nx">UserType</span></span> <a href="#UUID"><span class="nx">UUID</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class BoxHeader (
   unsigned int(32) boxtype,
   optional unsigned int(8)[16] extended_type
) {
   unsigned int(32) size;
   unsigned int(32) type = boxtype;
   if (size==1) {
      unsigned int(64) largesize;
   } else if (size==0) {
      // box extends to end of file
   }
   if (boxtype==&apos;uuid&apos;) {
      unsigned int(8)[16] usertype = extended_type;
   }
}
</pre>
<h3 id="EncryptionSample">type EncryptionSample</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">EncryptionSample</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="EncryptionSample.InitializationVector"><span class="nx">InitializationVector</span></span> <a href="https://pkg.go.dev/builtin#uint64"><span class="kt">uint64</span></a>
	<span id="EncryptionSample.SubsampleCount"><span class="nx">SubsampleCount</span></span>       <a href="https://pkg.go.dev/builtin#uint16"><span class="kt">uint16</span></a>
	<span id="EncryptionSample.Subsamples"><span class="nx">Subsamples</span></span>           <span class="p">[]</span><a href="#Subsample"><span class="nx">Subsample</span></a>
<span class="p">}</span></pre>
    <h4 id="EncryptionSample.DecryptCenc">func (EncryptionSample) DecryptCenc</h4>
  <pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">e</span> <a href="#EncryptionSample"><span class="nx">EncryptionSample</span></a><span class="p">)</span> <span class="nf">DecryptCenc</span><span class="p">(</span><span class="nx">sample</span><span class="p">,</span> <span class="nx">key</span> <span class="p">[]</span><a href="https://pkg.go.dev/builtin#byte"><span class="kt">byte</span></a><span class="p">)</span> <a href="https://pkg.go.dev/builtin#error"><span class="kt">error</span></a></pre>
  <p>github.com/Eyevinn/mp4ff/blob/v0.40.2/mp4/crypto.go#L101
<h3 id="File">type File</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">File</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="File.Boxes"><span class="nx">Boxes</span></span>         <span class="p">[]</span><a href="#Box"><span class="nx">Box</span></a>
	<span id="File.MediaData"><span class="nx">MediaData</span></span>     <span class="o">*</span><a href="#MediaData"><span class="nx">MediaData</span></a>
	<span id="File.Movie"><span class="nx">Movie</span></span>         <span class="o">*</span><a href="#Movie"><span class="nx">Movie</span></a>
	<span id="File.MovieFragment"><span class="nx">MovieFragment</span></span> <span class="o">*</span><a href="#MovieFragment"><span class="nx">MovieFragment</span></a>
	<span id="File.SegmentIndex"><span class="nx">SegmentIndex</span></span>  <span class="o">*</span><a href="#SegmentIndex"><span class="nx">SegmentIndex</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<h4 id="File.Read">func (*File) Read</h4>
  <pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">f</span> <span class="o">*</span><a href="#File"><span class="nx">File</span></a><span class="p">)</span> <span class="nf">Read</span><span class="p">(</span><span class="nx">r</span> <a href="https://pkg.go.dev/io"><span class="nx">io</span></a><span class="p">.</span><a href="https://pkg.go.dev/io#Reader"><span class="nx">Reader</span></a><span class="p">)</span> <a href="https://pkg.go.dev/builtin#error"><span class="kt">error</span></a></pre>
  <h4 id="File.Write">func (File) Write</h4>
  <pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">f</span> <a href="#File"><span class="nx">File</span></a><span class="p">)</span> <span class="nf">Write</span><span class="p">(</span><span class="nx">w</span> <a href="https://pkg.go.dev/io"><span class="nx">io</span></a><span class="p">.</span><a href="https://pkg.go.dev/io#Writer"><span class="nx">Writer</span></a><span class="p">)</span> <a href="https://pkg.go.dev/builtin#error"><span class="kt">error</span></a></pre>
  <h3 id="FullBoxHeader">type FullBoxHeader</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">FullBoxHeader</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="FullBoxHeader.Version"><span class="nx">Version</span></span> <a href="https://pkg.go.dev/builtin#uint8"><span class="kt">uint8</span></a>
	<span id="FullBoxHeader.Flags"><span class="nx">Flags</span></span>   <span class="p">[</span><span class="mi">3</span><span class="p">]</span><a href="https://pkg.go.dev/builtin#byte"><span class="kt">byte</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class FullBoxHeader(unsigned int(8) v, bit(24) f) {
   unsigned int(8) version = v;
   bit(24) flags = f;
}
</pre>
<h3 id="Media">type Media</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">Media</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="Media.BoxHeader"><span class="nx">BoxHeader</span></span>        <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="Media.Boxes"><span class="nx">Boxes</span></span>            <span class="p">[]</span><a href="#Box"><span class="nx">Box</span></a>
	<span id="Media.MediaInformation"><span class="nx">MediaInformation</span></span> <a href="#MediaInformation"><span class="nx">MediaInformation</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class MediaBox extends Box(&apos;mdia&apos;) {
}
</pre>
<h3 id="MediaData">type MediaData</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">MediaData</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="MediaData.Box"><span class="nx">Box</span></span> <a href="#Box"><span class="nx">Box</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class MediaDataBox extends Box(&apos;mdat&apos;) {
   bit(8) data[];
}
</pre>
<h4 id="MediaData.Data">func (MediaData) Data</h4>
  <pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <a href="#MediaData"><span class="nx">MediaData</span></a><span class="p">)</span> <span class="nf">Data</span><span class="p">(</span><span class="nx">run</span> <a href="#TrackRun"><span class="nx">TrackRun</span></a><span class="p">)</span> <span class="p">[][]</span><a href="https://pkg.go.dev/builtin#byte"><span class="kt">byte</span></a></pre>
  <h3 id="MediaInformation">type MediaInformation</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">MediaInformation</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="MediaInformation.BoxHeader"><span class="nx">BoxHeader</span></span>   <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="MediaInformation.Boxes"><span class="nx">Boxes</span></span>       <span class="p">[]</span><a href="#Box"><span class="nx">Box</span></a>
	<span id="MediaInformation.SampleTable"><span class="nx">SampleTable</span></span> <a href="#SampleTable"><span class="nx">SampleTable</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class MediaInformationBox extends Box(&apos;minf&apos;) {
}
</pre>
<h3 id="Movie">type Movie</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">Movie</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="Movie.BoxHeader"><span class="nx">BoxHeader</span></span>  <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="Movie.Boxes"><span class="nx">Boxes</span></span>      <span class="p">[]</span><span class="o">*</span><a href="#Box"><span class="nx">Box</span></a>
	<span id="Movie.Protection"><span class="nx">Protection</span></span> <span class="p">[]</span><a href="#ProtectionSystemSpecificHeader"><span class="nx">ProtectionSystemSpecificHeader</span></a>
	<span id="Movie.Track"><span class="nx">Track</span></span>      <a href="#Track"><span class="nx">Track</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class MovieBox extends Box(&apos;moov&apos;) {
}
</pre>
<h4 id="Movie.Widevine">func (Movie) Widevine</h4>
  <pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <a href="#Movie"><span class="nx">Movie</span></a><span class="p">)</span> <span class="nf">Widevine</span><span class="p">()</span> <span class="p">([]</span><a href="https://pkg.go.dev/builtin#uint8"><span class="kt">uint8</span></a><span class="p">,</span> <a href="https://pkg.go.dev/builtin#bool"><span class="kt">bool</span></a><span class="p">)</span></pre>
  <p>dashif.org/identifiers/content_protection
<h3 id="MovieFragment">type MovieFragment</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">MovieFragment</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="MovieFragment.BoxHeader"><span class="nx">BoxHeader</span></span>     <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="MovieFragment.Boxes"><span class="nx">Boxes</span></span>         <span class="p">[]</span><a href="#Box"><span class="nx">Box</span></a>
	<span id="MovieFragment.TrackFragment"><span class="nx">TrackFragment</span></span> <a href="#TrackFragment"><span class="nx">TrackFragment</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class MovieFragmentBox extends Box(&apos;moof&apos;) {
}
</pre>
<h3 id="OriginalFormat">type OriginalFormat</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">OriginalFormat</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="OriginalFormat.BoxHeader"><span class="nx">BoxHeader</span></span>  <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="OriginalFormat.DataFormat"><span class="nx">DataFormat</span></span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span><a href="https://pkg.go.dev/builtin#uint8"><span class="kt">uint8</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class OriginalFormatBox(codingname) extends Box(&apos;frma&apos;) {
   unsigned int(32) data_format = codingname;
   // format of decrypted, encoded data (in case of protection)
   // or un-transformed sample entry (in case of restriction
   // and complete track information)
}
</pre>
<h3 id="ProtectionSchemeInfo">type ProtectionSchemeInfo</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">ProtectionSchemeInfo</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="ProtectionSchemeInfo.BoxHeader"><span class="nx">BoxHeader</span></span>         <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="ProtectionSchemeInfo.Boxes"><span class="nx">Boxes</span></span>             <span class="p">[]</span><a href="#Box"><span class="nx">Box</span></a>
	<span id="ProtectionSchemeInfo.OriginalFormat"><span class="nx">OriginalFormat</span></span>    <a href="#OriginalFormat"><span class="nx">OriginalFormat</span></a>
	<span id="ProtectionSchemeInfo.SchemeInformation"><span class="nx">SchemeInformation</span></span> <a href="#SchemeInformation"><span class="nx">SchemeInformation</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class ProtectionSchemeInfoBox(fmt) extends Box(&apos;sinf&apos;) {
   OriginalFormatBox(fmt) original_format;
   SchemeTypeBox scheme_type_box; // optional
   SchemeInformationBox info; // optional
}
</pre>
<h3 id="ProtectionSystemSpecificHeader">type ProtectionSystemSpecificHeader</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">ProtectionSystemSpecificHeader</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="ProtectionSystemSpecificHeader.BoxHeader"><span class="nx">BoxHeader</span></span>     <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="ProtectionSystemSpecificHeader.FullBoxHeader"><span class="nx">FullBoxHeader</span></span> <a href="#FullBoxHeader"><span class="nx">FullBoxHeader</span></a>
	<span id="ProtectionSystemSpecificHeader.SystemId"><span class="nx">SystemId</span></span>      <a href="#UUID"><span class="nx">UUID</span></a>
	<span id="ProtectionSystemSpecificHeader.DataSize"><span class="nx">DataSize</span></span>      <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a>
	<span id="ProtectionSystemSpecificHeader.Data"><span class="nx">Data</span></span>          <span class="p">[]</span><a href="https://pkg.go.dev/builtin#uint8"><span class="kt">uint8</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 23001-7
<pre>aligned(8) class ProtectionSystemSpecificHeaderBox extends FullBox(
   &apos;pssh&apos;, version, flags=0,
) {
   unsigned int(8)[16] SystemID;
   if (version &gt; 0) {
      unsigned int(32) KID_count;
      {
         unsigned int(8)[16] KID;
      } [KID_count];
   }
   unsigned int(32) DataSize;
   unsigned int(8)[DataSize] Data;
}
</pre>
<h4 id="ProtectionSystemSpecificHeader.String">func (ProtectionSystemSpecificHeader) String</h4>
  <pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">p</span> <a href="#ProtectionSystemSpecificHeader"><span class="nx">ProtectionSystemSpecificHeader</span></a><span class="p">)</span> <span class="nf">String</span><span class="p">()</span> <a href="https://pkg.go.dev/builtin#string"><span class="kt">string</span></a></pre>
  <h3 id="Range">type Range</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">Range</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="Range.Start"><span class="nx">Start</span></span> <a href="https://pkg.go.dev/builtin#uint64"><span class="kt">uint64</span></a>
	<span id="Range.End"><span class="nx">End</span></span>   <a href="https://pkg.go.dev/builtin#uint64"><span class="kt">uint64</span></a>
<span class="p">}</span></pre>
    <h4 id="Range.String">func (Range) String</h4>
  <pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">r</span> <a href="#Range"><span class="nx">Range</span></a><span class="p">)</span> <span class="nf">String</span><span class="p">()</span> <a href="https://pkg.go.dev/builtin#string"><span class="kt">string</span></a></pre>
  <h3 id="Reference">type Reference</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">Reference</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span><a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a></pre>
    <h3 id="RunSample">type RunSample</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">RunSample</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="RunSample.Duration"><span class="nx">Duration</span></span>              <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a>
	<span id="RunSample.Size"><span class="nx">Size</span></span>                  <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a>
	<span id="RunSample.Flags"><span class="nx">Flags</span></span>                 <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a>
	<span id="RunSample.CompositionTimeOffset"><span class="nx">CompositionTimeOffset</span></span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span><a href="https://pkg.go.dev/builtin#byte"><span class="kt">byte</span></a>
<span class="p">}</span></pre>
    <h3 id="SampleDescription">type SampleDescription</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">SampleDescription</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="SampleDescription.BoxHeader"><span class="nx">BoxHeader</span></span>     <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="SampleDescription.FullBoxHeader"><span class="nx">FullBoxHeader</span></span> <a href="#FullBoxHeader"><span class="nx">FullBoxHeader</span></a>
	<span id="SampleDescription.EntryCount"><span class="nx">EntryCount</span></span>    <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a>
	<span id="SampleDescription.AudioSample"><span class="nx">AudioSample</span></span>   <span class="o">*</span><a href="#AudioSampleEntry"><span class="nx">AudioSampleEntry</span></a>
	<span id="SampleDescription.VisualSample"><span class="nx">VisualSample</span></span>  <span class="o">*</span><a href="#VisualSampleEntry"><span class="nx">VisualSampleEntry</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class SampleDescriptionBox() extends FullBox(&apos;stsd&apos;, version, 0) {
   int i ;
   unsigned int(32) entry_count;
   for (i = 1 ; i &lt;= entry_count ; i++){
      SampleEntry(); // an instance of a class derived from SampleEntry
   }
}
</pre>
<h3 id="SampleEncryption">type SampleEncryption</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">SampleEncryption</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="SampleEncryption.BoxHeader"><span class="nx">BoxHeader</span></span>     <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="SampleEncryption.FullBoxHeader"><span class="nx">FullBoxHeader</span></span> <a href="#FullBoxHeader"><span class="nx">FullBoxHeader</span></a>
	<span id="SampleEncryption.SampleCount"><span class="nx">SampleCount</span></span>   <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a>
	<span id="SampleEncryption.Samples"><span class="nx">Samples</span></span>       <span class="p">[]</span><a href="#EncryptionSample"><span class="nx">EncryptionSample</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 23001-7
<p>if the version of the SampleEncryptionBox is 0 and the flag
senc_use_subsamples is set, UseSubSampleEncryption is set to 1
<pre>aligned(8) class SampleEncryptionBox extends FullBox(
   &apos;senc&apos;, version, flags
) {
   unsigned int(32) sample_count;
   {
      unsigned int(Per_Sample_IV_Size*8) InitializationVector;
      if (UseSubSampleEncryption) {
         unsigned int(16) subsample_count;
         {
            unsigned int(16) BytesOfClearData;
            unsigned int(32) BytesOfProtectedData;
         } [subsample_count ]
      }
   }[ sample_count ]
}
</pre>
<h3 id="SampleEntry">type SampleEntry</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">SampleEntry</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="SampleEntry.BoxHeader"><span class="nx">BoxHeader</span></span>          <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="SampleEntry.Reserved"><span class="nx">Reserved</span></span>           <span class="p">[</span><span class="mi">6</span><span class="p">]</span><a href="https://pkg.go.dev/builtin#uint8"><span class="kt">uint8</span></a>
	<span id="SampleEntry.DataReferenceIndex"><span class="nx">DataReferenceIndex</span></span> <a href="https://pkg.go.dev/builtin#uint16"><span class="kt">uint16</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) abstract class SampleEntry(
   unsigned int(32) format
) extends Box(format) {
   const unsigned int(8)[6] reserved = 0;
   unsigned int(16) data_reference_index;
}
</pre>
<h3 id="SampleTable">type SampleTable</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">SampleTable</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="SampleTable.BoxHeader"><span class="nx">BoxHeader</span></span>         <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="SampleTable.Boxes"><span class="nx">Boxes</span></span>             <span class="p">[]</span><a href="#Box"><span class="nx">Box</span></a>
	<span id="SampleTable.SampleDescription"><span class="nx">SampleDescription</span></span> <a href="#SampleDescription"><span class="nx">SampleDescription</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class SampleTableBox extends Box(&apos;stbl&apos;) {
}
</pre>
<h3 id="SchemeInformation">type SchemeInformation</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">SchemeInformation</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="SchemeInformation.BoxHeader"><span class="nx">BoxHeader</span></span>       <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="SchemeInformation.TrackEncryption"><span class="nx">TrackEncryption</span></span> <a href="#TrackEncryption"><span class="nx">TrackEncryption</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class SchemeInformationBox extends Box(&apos;schi&apos;) {
   Box scheme_specific_data[];
}
</pre>
<h3 id="SegmentIndex">type SegmentIndex</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">SegmentIndex</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="SegmentIndex.BoxHeader"><span class="nx">BoxHeader</span></span>                <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="SegmentIndex.FullBoxHeader"><span class="nx">FullBoxHeader</span></span>            <a href="#FullBoxHeader"><span class="nx">FullBoxHeader</span></a>
	<span id="SegmentIndex.ReferenceId"><span class="nx">ReferenceId</span></span>              <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a>
	<span id="SegmentIndex.Timescale"><span class="nx">Timescale</span></span>                <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a>
	<span id="SegmentIndex.EarliestPresentationTime"><span class="nx">EarliestPresentationTime</span></span> <span class="p">[]</span><a href="https://pkg.go.dev/builtin#byte"><span class="kt">byte</span></a>
	<span id="SegmentIndex.FirstOffset"><span class="nx">FirstOffset</span></span>              <span class="p">[]</span><a href="https://pkg.go.dev/builtin#byte"><span class="kt">byte</span></a>
	<span id="SegmentIndex.Reserved"><span class="nx">Reserved</span></span>                 <a href="https://pkg.go.dev/builtin#uint16"><span class="kt">uint16</span></a>
	<span id="SegmentIndex.ReferenceCount"><span class="nx">ReferenceCount</span></span>           <a href="https://pkg.go.dev/builtin#uint16"><span class="kt">uint16</span></a>
	<span id="SegmentIndex.Reference"><span class="nx">Reference</span></span>                <span class="p">[]</span><a href="#Reference"><span class="nx">Reference</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class SegmentIndexBox extends FullBox(&apos;sidx&apos;, version, 0) {
   unsigned int(32) reference_ID;
   unsigned int(32) timescale;
   if (version==0) {
      unsigned int(32) earliest_presentation_time;
      unsigned int(32) first_offset;
   } else {
      unsigned int(64) earliest_presentation_time;
      unsigned int(64) first_offset;
   }
   unsigned int(16) reserved = 0;
   unsigned int(16) reference_count;
   for(i=1; i &lt;= reference_count; i++) {
      bit (1) reference_type;
      unsigned int(31) referenced_size;
      unsigned int(32) subsegment_duration;
      bit(1) starts_with_SAP;
      unsigned int(3) SAP_type;
      unsigned int(28) SAP_delta_time;
   }
}
</pre>
<h4 id="SegmentIndex.Append">func (*SegmentIndex) Append</h4>
  <pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">s</span> <span class="o">*</span><a href="#SegmentIndex"><span class="nx">SegmentIndex</span></a><span class="p">)</span> <span class="nf">Append</span><span class="p">(</span><span class="nx">size</span> <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a><span class="p">)</span></pre>
  <h4 id="SegmentIndex.New">func (*SegmentIndex) New</h4>
  <pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">s</span> <span class="o">*</span><a href="#SegmentIndex"><span class="nx">SegmentIndex</span></a><span class="p">)</span> <span class="nf">New</span><span class="p">()</span></pre>
  <h4 id="SegmentIndex.Ranges">func (SegmentIndex) Ranges</h4>
  <pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">s</span> <a href="#SegmentIndex"><span class="nx">SegmentIndex</span></a><span class="p">)</span> <span class="nf">Ranges</span><span class="p">(</span><span class="nx">start</span> <a href="https://pkg.go.dev/builtin#uint64"><span class="kt">uint64</span></a><span class="p">)</span> <span class="p">[]</span><a href="#Range"><span class="nx">Range</span></a></pre>
  <p>size will always fit inside 31 bits, but range-start and range-end can both
exceed 32 bits, so we must use 64 bit. we need the length for progress
meter, so cannot use a channel
<h3 id="Subsample">type Subsample</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">Subsample</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="Subsample.BytesOfClearData"><span class="nx">BytesOfClearData</span></span>     <a href="https://pkg.go.dev/builtin#uint16"><span class="kt">uint16</span></a>
	<span id="Subsample.BytesOfProtectedData"><span class="nx">BytesOfProtectedData</span></span> <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a>
<span class="p">}</span></pre>
    <h3 id="Track">type Track</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">Track</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="Track.BoxHeader"><span class="nx">BoxHeader</span></span> <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="Track.Boxes"><span class="nx">Boxes</span></span>     <span class="p">[]</span><a href="#Box"><span class="nx">Box</span></a>
	<span id="Track.Media"><span class="nx">Media</span></span>     <a href="#Media"><span class="nx">Media</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class TrackBox extends Box(&apos;trak&apos;) {
}
</pre>
<h3 id="TrackEncryption">type TrackEncryption</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">TrackEncryption</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="TrackEncryption.BoxHeader"><span class="nx">BoxHeader</span></span>     <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="TrackEncryption.FullBoxHeader"><span class="nx">FullBoxHeader</span></span> <a href="#FullBoxHeader"><span class="nx">FullBoxHeader</span></a>
	<span id="TrackEncryption.Extends"><span class="nx">Extends</span></span>       <span class="kd">struct</span> <span class="p">{</span>
		<span id="TrackEncryption.DefaultIsProtected"><span class="nx">DefaultIsProtected</span></span>     <a href="https://pkg.go.dev/builtin#uint8"><span class="kt">uint8</span></a>
		<span id="TrackEncryption.DefaultPerSampleIvSize"><span class="nx">DefaultPerSampleIvSize</span></span> <a href="https://pkg.go.dev/builtin#uint8"><span class="kt">uint8</span></a>
		<span class="c1">// contains filtered or unexported fields
</span><span class="c1"></span>	<span class="p">}</span>
	<span id="TrackEncryption.DefaultKid"><span class="nx">DefaultKid</span></span> <a href="#UUID"><span class="nx">UUID</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 23001-7
<pre>aligned(8) class TrackEncryptionBox extends FullBox(&apos;tenc&apos;, version, flags=0) {
   unsigned int(8) reserved = 0;
   if (version==0) {
      unsigned int(8) reserved = 0;
   } else { // version is 1 or greater
      unsigned int(4) default_crypt_byte_block;
      unsigned int(4) default_skip_byte_block;
   }
   unsigned int(8) default_isProtected;
   unsigned int(8) default_Per_Sample_IV_Size;
   unsigned int(8)[16] default_KID;
   if (default_isProtected ==1 &amp;&amp; default_Per_Sample_IV_Size == 0) {
      unsigned int(8) default_constant_IV_size;
      unsigned int(8)[default_constant_IV_size] default_constant_IV;
   }
}
</pre>
<h3 id="TrackFragment">type TrackFragment</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">TrackFragment</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="TrackFragment.BoxHeader"><span class="nx">BoxHeader</span></span>        <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="TrackFragment.Boxes"><span class="nx">Boxes</span></span>            <span class="p">[]</span><a href="#Box"><span class="nx">Box</span></a>
	<span id="TrackFragment.SampleEncryption"><span class="nx">SampleEncryption</span></span> <a href="#SampleEncryption"><span class="nx">SampleEncryption</span></a>
	<span id="TrackFragment.TrackRun"><span class="nx">TrackRun</span></span>         <a href="#TrackRun"><span class="nx">TrackRun</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>aligned(8) class TrackFragmentBox extends Box(&apos;traf&apos;) {
}
</pre>
<h3 id="TrackRun">type TrackRun</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">TrackRun</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="TrackRun.BoxHeader"><span class="nx">BoxHeader</span></span>        <a href="#BoxHeader"><span class="nx">BoxHeader</span></a>
	<span id="TrackRun.FullBoxHeader"><span class="nx">FullBoxHeader</span></span>    <a href="#FullBoxHeader"><span class="nx">FullBoxHeader</span></a>
	<span id="TrackRun.SampleCount"><span class="nx">SampleCount</span></span>      <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a>
	<span id="TrackRun.DataOffset"><span class="nx">DataOffset</span></span>       <a href="https://pkg.go.dev/builtin#int32"><span class="kt">int32</span></a>
	<span id="TrackRun.FirstSampleFlags"><span class="nx">FirstSampleFlags</span></span> <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a>
	<span id="TrackRun.Sample"><span class="nx">Sample</span></span>           <span class="p">[]</span><a href="#RunSample"><span class="nx">RunSample</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<p>If the data-offset is present, it is relative to the base-data-offset
established in the track fragment header.
<pre>aligned(8) class TrackRunBox extends FullBox(&apos;trun&apos;, version, tr_flags) {
   unsigned int(32) sample_count;
   signed int(32) data_offset; // 0x000001, assume present
   unsigned int(32) first_sample_flags; // 0x000004
   {
      unsigned int(32) sample_duration; // 0x000100
      unsigned int(32) sample_size; // 0x000200, assume present
      unsigned int(32) sample_flags // 0x000400
      if (version == 0) {
         unsigned int(32) sample_composition_time_offset; // 0x000800
      } else {
         signed int(32) sample_composition_time_offset; // 0x000800
      }
   }[ sample_count ]
}
</pre>
<h3 id="Type">type Type</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">Type</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span><a href="https://pkg.go.dev/builtin#uint8"><span class="kt">uint8</span></a></pre>
    <h4 id="Type.String">func (Type) String</h4>
  <pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <a href="#Type"><span class="nx">Type</span></a><span class="p">)</span> <span class="nf">String</span><span class="p">()</span> <a href="https://pkg.go.dev/builtin#string"><span class="kt">string</span></a></pre>
  <h3 id="UUID">type UUID</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">UUID</span> <span class="p">[</span><span class="mi">16</span><span class="p">]</span><a href="https://pkg.go.dev/builtin#uint8"><span class="kt">uint8</span></a></pre>
    <h4 id="UUID.String">func (UUID) String</h4>
  <pre class="chroma"><span class="kd">func</span> <span class="p">(</span><span class="nx">u</span> <a href="#UUID"><span class="nx">UUID</span></a><span class="p">)</span> <span class="nf">String</span><span class="p">()</span> <a href="https://pkg.go.dev/builtin#string"><span class="kt">string</span></a></pre>
  <h3 id="VisualSampleEntry">type VisualSampleEntry</h3>
    <pre class="chroma"><span class="kd">type</span> <span class="nx">VisualSampleEntry</span> <span class="kd">struct</span> <span class="p">{</span>
	<span id="VisualSampleEntry.SampleEntry"><span class="nx">SampleEntry</span></span> <a href="#SampleEntry"><span class="nx">SampleEntry</span></a>
	<span id="VisualSampleEntry.Extends"><span class="nx">Extends</span></span>     <span class="kd">struct</span> <span class="p">{</span>
		<span id="VisualSampleEntry.Width"><span class="nx">Width</span></span>           <a href="https://pkg.go.dev/builtin#uint16"><span class="kt">uint16</span></a>
		<span id="VisualSampleEntry.Height"><span class="nx">Height</span></span>          <a href="https://pkg.go.dev/builtin#uint16"><span class="kt">uint16</span></a>
		<span id="VisualSampleEntry.HorizResolution"><span class="nx">HorizResolution</span></span> <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a>
		<span id="VisualSampleEntry.VertResolution"><span class="nx">VertResolution</span></span>  <a href="https://pkg.go.dev/builtin#uint32"><span class="kt">uint32</span></a>

		<span id="VisualSampleEntry.FrameCount"><span class="nx">FrameCount</span></span>     <a href="https://pkg.go.dev/builtin#uint16"><span class="kt">uint16</span></a>
		<span id="VisualSampleEntry.CompressorName"><span class="nx">CompressorName</span></span> <span class="p">[</span><span class="mi">32</span><span class="p">]</span><a href="https://pkg.go.dev/builtin#uint8"><span class="kt">uint8</span></a>
		<span id="VisualSampleEntry.Depth"><span class="nx">Depth</span></span>          <a href="https://pkg.go.dev/builtin#uint16"><span class="kt">uint16</span></a>
		<span class="c1">// contains filtered or unexported fields
</span><span class="c1"></span>	<span class="p">}</span>
	<span id="VisualSampleEntry.Boxes"><span class="nx">Boxes</span></span>            <span class="p">[]</span><span class="o">*</span><a href="#Box"><span class="nx">Box</span></a>
	<span id="VisualSampleEntry.ProtectionScheme"><span class="nx">ProtectionScheme</span></span> <a href="#ProtectionSchemeInfo"><span class="nx">ProtectionSchemeInfo</span></a>
<span class="p">}</span></pre>
    <p>ISO/IEC 14496-12
<pre>class VisualSampleEntry(codingname) extends SampleEntry(codingname) {
   unsigned int(16) pre_defined = 0;
   const unsigned int(16) reserved = 0;
   unsigned int(32)[3] pre_defined = 0;
   unsigned int(16) width;
   unsigned int(16) height;
   template unsigned int(32) horizresolution = 0x00480000; // 72 dpi
   template unsigned int(32) vertresolution = 0x00480000; // 72 dpi
   const unsigned int(32) reserved = 0;
   template unsigned int(16) frame_count = 1;
   uint(8)[32] compressorname;
   template unsigned int(16) depth = 0x0018;
   int(16) pre_defined = -1;
   // other boxes from derived specifications
   CleanApertureBox clap; // optional
   PixelAspectRatioBox pasp; // optional
}
</pre>
</main>
    <hr>
    <footer>
      <small id="generated-by-footer">
        Generated with <a href="https://abhinav.github.io/doc2go/">doc2go</a>
      </small>
    </footer>
    <script src="_/js/permalink.js"></script>
  </body>
</html>
